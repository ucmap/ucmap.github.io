<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Sun Jan 04 12:29:27 CST 2015 -->
<title>MapControl</title>
<meta name="date" content="2015-01-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MapControl";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/MapControl.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../cn/creable/gridgis/controls/InfoTool.html" title="cn.creable.gridgis.controls中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../cn/creable/gridgis/controls/MapControl.ThreadPoolManager.html" title="cn.creable.gridgis.controls中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?cn/creable/gridgis/controls/MapControl.html" target="_top">框架</a></li>
<li><a href="MapControl.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested_class_summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">cn.creable.gridgis.controls</div>
<h2 title="类 MapControl" class="title">类 MapControl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>cn.creable.gridgis.controls.MapControl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">MapControl</span>
extends java.lang.Object</pre>
<div class="block"><p>地图控件类。</p>
 <p><h4>说明</h4></p>
 <p>MapControl是UCMap引擎对外的控件类，这个类中包含了1个地图对象（Map）和1个绘图对象（Display），这个类能够处理地图工具的交互、自定义绘图（CustomDraw）、闪烁地图要素、改变地图窗口位置、装载和关闭矢量地图、滑动地图窗口等等功能。</p>
 <p><h4>java 示例</h4></p>
<p><example>
        <pre class="code">
下面介绍MapControl的几个基本功能的用法。
1.加载矢量地图，如下代码演示了如何加载地图
mapView.setListener(new IMapViewListener() {

        public void onSizeChanged(int w, int h, int oldw,
                        int oldh) {
                MapControl mapControl=mapView.getMapControl();//获得地图控件对象的引用
                if (mapControl.getMap()==null)
                {
                        String path=Environment.getExternalStorageDirectory().getPath();
                        mapControl.loadMap(path+"/bj2/map.ini", (byte)0);//装载地图
                        mapControl.setPanTool();//将漫游工具设置为当前地图工具
                }
        }       
});
以上代码放在Activity的onCreate里执行，且mapView在layout中有定义。首先调用getMapControl获取地图控件对象的引用，再调用loadMap函数加载指定的地图，最后将当前地图工具设置为漫游工具，地图加载完毕之后，用户就可以进行移动、缩放地图了。为什么要在MapViewListener里进行地图控件的设置？因为onCreate函数中MapControl没有初始化完毕，只有在MapViewListener的onSizeChanged函数被调用了之后，MapControl才初始化完毕了，这个时候才能设置地图控件。loadMap函数执行完毕之后，UCMap引擎会自动创建地图对象（Map）、绘图对象（Display）以及各种图层、符号、渲染器等等对象。

2.用代码直接控制地图窗口的位置（用代码放大、缩小、移动地图）。
IEnvelope env=mapView.getMapControl().getExtent();//获取当前地图窗口的可视范围
env.centerAt(new Point(120,30));//将获得的可视范围的中心移动的120,30处，这里点坐标应该采用地图坐标
mapView.getMapControl().refresh(env);//刷新地图并将地图窗口移动到指定位置
以上代码实现了仅仅移动地图，而不缩放地图。

mapView.getMapControl().slideAnimation(116.368392,39.92476);
以上代码也是不缩放地图的情况下移动地图，但是与之前代码不同的是，这个函数会向用户展现一个滑动的动画效果。

mapView.getMapControl().adjustEnvelope2(env);//按照窗口的高宽比调整一个Envelope
mapView.getMapControl().refresh(env);//刷新地图并将地图窗口移动到指定位置
以上代码实现以一个已知的地图窗口位置（env）来显示地图，这个地图窗口位置env可以是任意的，必须采用地图坐标。

        </pre>
</example></p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.ThreadPoolManager.html" title="cn.creable.gridgis.controls中的类">MapControl.ThreadPoolManager</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#clearBack">clearBack</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#costTime">costTime</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#isMoving">isMoving</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#noCustomDraw">noCustomDraw</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#offsetX">offsetX</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#offsetY">offsetY</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#pointerStatus">pointerStatus</a></strong></code>
<div class="block">当前触摸屏的状态，0表示pointerPressed，1表示pointerReleased，2表示pointerDragged</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#smoothMode">smoothMode</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#MapControl(cn.creable.gridgis.controls.MapView, int, int)">MapControl</a></strong>(<a href="../../../../cn/creable/gridgis/controls/MapView.html" title="cn.creable.gridgis.controls中的类">MapView</a>&nbsp;view,
          int&nbsp;width,
          int&nbsp;height)</code>
<div class="block">构造函数</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#addCustomDraw(cn.creable.gridgis.controls.ICustomDraw2)">addCustomDraw</a></strong>(<a href="../../../../cn/creable/gridgis/controls/ICustomDraw2.html" title="cn.creable.gridgis.controls中的接口">ICustomDraw2</a>&nbsp;draw)</code>
<div class="block">添加自绘对象</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#addLabelStyle(int, int, int)">addLabelStyle</a></strong>(int&nbsp;layerId,
             int&nbsp;fontSize,
             int&nbsp;fontColor)</code>
<div class="block">设置单个图层的标注样式</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#addLabelStyle(int, int, int, int, int)">addLabelStyle</a></strong>(int&nbsp;layerId,
             int&nbsp;fontSize,
             int&nbsp;fontColor,
             int&nbsp;location,
             int&nbsp;priority)</code>
<div class="block">设置单个图层的标注样式</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#adjustEnvelope(cn.creable.gridgis.geometry.IEnvelope)">adjustEnvelope</a></strong>(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;extent)</code>
<div class="block">按照窗口的高宽比调整一个Envelope，宽度优先</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#adjustEnvelope2(cn.creable.gridgis.geometry.IEnvelope)">adjustEnvelope2</a></strong>(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;extent)</code>
<div class="block">按照窗口的高宽比调整一个Envelope，高度优先</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#beginGetCurstomDraw()">beginGetCurstomDraw</a></strong>()</code>
<div class="block">开始获取ICustomDraw2接口的类</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#clear()">clear</a></strong>()</code>
<div class="block">清除所有设置</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#closeMap()">closeMap</a></strong>()</code>
<div class="block">关闭地图</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#flashFeature(cn.creable.gridgis.geodatabase.IFeature)">flashFeature</a></strong>(<a href="../../../../cn/creable/gridgis/geodatabase/IFeature.html" title="cn.creable.gridgis.geodatabase中的接口">IFeature</a>&nbsp;ft)</code>
<div class="block">闪烁一个地图要素</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#flashFeature(cn.creable.gridgis.mapLayer.IFeatureLayer, cn.creable.gridgis.geodatabase.IFeature)">flashFeature</a></strong>(<a href="../../../../cn/creable/gridgis/mapLayer/IFeatureLayer.html" title="cn.creable.gridgis.mapLayer中的接口">IFeatureLayer</a>&nbsp;layer,
            <a href="../../../../cn/creable/gridgis/geodatabase/IFeature.html" title="cn.creable.gridgis.geodatabase中的接口">IFeature</a>&nbsp;ft)</code>
<div class="block">用于闪烁当前窗口中的图元</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#flashFeature(short, int)">flashFeature</a></strong>(short&nbsp;layerID,
            int&nbsp;objectID)</code>
<div class="block">用于闪烁某一个地图要素</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#flashFeatures(cn.creable.gridgis.mapLayer.IFeatureLayer, int)">flashFeatures</a></strong>(<a href="../../../../cn/creable/gridgis/mapLayer/IFeatureLayer.html" title="cn.creable.gridgis.mapLayer中的接口">IFeatureLayer</a>&nbsp;layer,
             int&nbsp;oid)</code>
<div class="block">用于闪烁某一个地图要素</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#flashFeatures(java.util.Vector, java.util.Vector, int)">flashFeatures</a></strong>(java.util.Vector&lt;<a href="../../../../cn/creable/gridgis/geometry/IGeometry.html" title="cn.creable.gridgis.geometry中的接口">IGeometry</a>&gt;&nbsp;fts,
             java.util.Vector&lt;<a href="../../../../cn/creable/gridgis/display/ISymbol.html" title="cn.creable.gridgis.display中的接口">ISymbol</a>&gt;&nbsp;symbols,
             int&nbsp;flashNum)</code>
<div class="block">若干个地图要素一起闪烁</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getApplicationID(cn.creable.gridgis.controls.App)">getApplicationID</a></strong>(<a href="../../../../cn/creable/gridgis/controls/App.html" title="cn.creable.gridgis.controls中的类">App</a>&nbsp;app)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getBackColor()">getBackColor</a></strong>()</code>
<div class="block">获取背景颜色值</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>Bitmap</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getCache()">getCache</a></strong>()</code>
<div class="block">获取一个窗口的缓存，包含自绘对象、地图工具以及比例尺条</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../cn/creable/gridgis/controls/IMapTool.html" title="cn.creable.gridgis.controls中的接口">IMapTool</a></code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getCurrentTool()">getCurrentTool</a></strong>()</code>
<div class="block">获取当前的地图工具</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../cn/creable/gridgis/controls/ICustomDraw.html" title="cn.creable.gridgis.controls中的接口">ICustomDraw</a></code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getCustomDraw()">getCustomDraw</a></strong>()</code>
<div class="block">获取当前自绘对象</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../cn/creable/gridgis/display/IDisplay.html" title="cn.creable.gridgis.display中的接口">IDisplay</a></code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getDisplay()">getDisplay</a></strong>()</code>
<div class="block">获取Display对象的引用</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a></code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getExtent()">getExtent</a></strong>()</code>
<div class="block">获取当前地图的可视范围，实际坐标</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a></code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getFullExtent()">getFullExtent</a></strong>()</code>
<div class="block">获取地图的全局范围</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getHeight()">getHeight</a></strong>()</code>
<div class="block">获取控件高度</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>Bitmap</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getImageCache()">getImageCache</a></strong>()</code>
<div class="block">获取内存缓冲区Bitmap对象，不能recycle</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>Canvas</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getImageCanvas()">getImageCanvas</a></strong>()</code>
<div class="block">获取内存缓冲区Canvas对象</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../cn/creable/gridgis/gridMap/IMap.html" title="cn.creable.gridgis.gridMap中的接口">IMap</a></code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getMap()">getMap</a></strong>()</code>
<div class="block">获取地图对象</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../cn/creable/gridgis/controls/MapControl.html" title="cn.creable.gridgis.controls中的类">MapControl</a></code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getMapControl()">getMapControl</a></strong>()</code>
<div class="block">获取MapControl的引用</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../cn/creable/gridgis/controls/MapControl.html" title="cn.creable.gridgis.controls中的类">MapControl</a></code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getMapControl(cn.creable.gridgis.controls.MapView, int, int)">getMapControl</a></strong>(<a href="../../../../cn/creable/gridgis/controls/MapView.html" title="cn.creable.gridgis.controls中的类">MapView</a>&nbsp;view,
             int&nbsp;width,
             int&nbsp;height)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../cn/creable/gridgis/controls/ICustomDraw2.html" title="cn.creable.gridgis.controls中的接口">ICustomDraw2</a></code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getNextCustomDraw()">getNextCustomDraw</a></strong>()</code>
<div class="block">获取ICustomDraw2类</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../cn/creable/gridgis/controls/MapControl.ThreadPoolManager.html" title="cn.creable.gridgis.controls中的类">MapControl.ThreadPoolManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getRefreshManager()">getRefreshManager</a></strong>()</code>
<div class="block">获取刷新地图管理器</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getVersion()">getVersion</a></strong>()</code>
<div class="block">获取UCMap的版本号</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../cn/creable/gridgis/controls/MapView.html" title="cn.creable.gridgis.controls中的类">MapView</a></code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getView()">getView</a></strong>()</code>
<div class="block">获取MapView对象</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#getWidth()">getWidth</a></strong>()</code>
<div class="block">获取控件宽度</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#hideCompass()">hideCompass</a></strong>()</code>
<div class="block">关闭比例尺显示，您需要调用mapControl.repaint</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#hideScaleBar()">hideScaleBar</a></strong>()</code>
<div class="block">关闭比例尺显示，您需要手动调用mapControl.repaint</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#inAnimation()">inAnimation</a></strong>()</code>
<div class="block">是否处于动画中</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#initMap(cn.creable.gridgis.geometry.IEnvelope)">initMap</a></strong>(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;extent)</code>
<div class="block">初始化地图</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#initMapControl530(java.lang.String)">initMapControl530</a></strong>(java.lang.String&nbsp;pathname)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#keyPressed(int)">keyPressed</a></strong>(int&nbsp;keyCode)</code>
<div class="block">当用户按下按键之后，会自动调用该函数</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#loadMap(java.lang.String, byte)">loadMap</a></strong>(java.lang.String&nbsp;mxPath,
       byte&nbsp;arg)</code>
<div class="block">装入地图，这个函数是同步的</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#loadMapAsync(java.lang.String, byte)">loadMapAsync</a></strong>(java.lang.String&nbsp;mxPath,
            byte&nbsp;arg)</code>
<div class="block">装入地图，这个函数是异步的</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#offsetMap(int, int)">offsetMap</a></strong>(int&nbsp;offsetX,
         int&nbsp;offsetY)</code>
<div class="block">移动地图</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#paint(Canvas)">paint</a></strong>(Canvas&nbsp;g)</code>
<div class="block">当view调用onDraw时，调用该方法</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#pointerDragged(int, int, int, int)">pointerDragged</a></strong>(int&nbsp;x,
              int&nbsp;y,
              int&nbsp;x2,
              int&nbsp;y2)</code>
<div class="block">当用户在地图上滑动手指或触摸笔时，会自动调用该函数</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#pointerPressed(int, int, int, int)">pointerPressed</a></strong>(int&nbsp;x,
              int&nbsp;y,
              int&nbsp;x2,
              int&nbsp;y2)</code>
<div class="block">当用户在地图上按下手指或触摸笔时，会自动调用该函数</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#pointerReleased(int, int, int, int)">pointerReleased</a></strong>(int&nbsp;x,
               int&nbsp;y,
               int&nbsp;x2,
               int&nbsp;y2)</code>
<div class="block">当用户在地图上弹起手指或触摸笔时，会自动调用该函数</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#refresh()">refresh</a></strong>()</code>
<div class="block">刷新地图，重新绘制地图，这个函数是异步的，函数返回时，地图还没有绘制完毕</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#refresh(cn.creable.gridgis.geometry.IEnvelope)">refresh</a></strong>(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;visibleBounds)</code>
<div class="block">刷新地图，跳转至新的位置，并重新绘制地图，这个函数是异步的，函数返回时，地图还没有绘制完毕</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#refresh(cn.creable.gridgis.geometry.IEnvelope, boolean)">refresh</a></strong>(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;visibleBounds,
       boolean&nbsp;smoothMode)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#refresh(cn.creable.gridgis.controls.MapView)">refresh</a></strong>(<a href="../../../../cn/creable/gridgis/controls/MapView.html" title="cn.creable.gridgis.controls中的类">MapView</a>&nbsp;view)</code>
<div class="block">刷新地图</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#refreshAfter(int)">refreshAfter</a></strong>(int&nbsp;layerIndex)</code>
<div class="block">刷新地图，等待指定的图层绘制完毕之后，重新绘制地图</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#refreshSync()">refreshSync</a></strong>()</code>
<div class="block">刷新地图，重新绘制地图，这个函数是同步的，函数返回时，地图已经绘制完毕</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#refreshSync(cn.creable.gridgis.geometry.IEnvelope)">refreshSync</a></strong>(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;visibleBounds)</code>
<div class="block">刷新地图，跳转至新的位置，并重新绘制地图，这个函数是同步的，函数返回时，地图已经绘制完毕</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#refreshSync(cn.creable.gridgis.geometry.IEnvelope, boolean)">refreshSync</a></strong>(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;visibleBounds,
           boolean&nbsp;smoothMode)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#removeCustomDraw(cn.creable.gridgis.controls.ICustomDraw2)">removeCustomDraw</a></strong>(<a href="../../../../cn/creable/gridgis/controls/ICustomDraw2.html" title="cn.creable.gridgis.controls中的接口">ICustomDraw2</a>&nbsp;draw)</code>
<div class="block">移除自绘对象</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#removeLabelStyle(int)">removeLabelStyle</a></strong>(int&nbsp;layerId)</code>
<div class="block">删除单个图层的标注样式，删除之后，该图层的标注将采用默认样式</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#repaint()">repaint</a></strong>()</code>
<div class="block">重画，将缓冲在内存中的地图再次绘制到屏幕上</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#rewriteIni()">rewriteIni</a></strong>()</code>
<div class="block">重新写map.ini文件</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#rotateAnimation(float)">rotateAnimation</a></strong>(float&nbsp;angle)</code>
<div class="block">旋转地图动画</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#saveMapVisibleBounds()">saveMapVisibleBounds</a></strong>()</code>
<div class="block">保存当前浏览的位置，下次打开地图时会自动回到这个位置上</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../cn/creable/gridgis/geodatabase/FeatureInfo.html" title="cn.creable.gridgis.geodatabase中的类">FeatureInfo</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#searchFeature(java.lang.String, java.lang.String[], java.lang.String, java.lang.String, java.lang.String, java.lang.String)">searchFeature</a></strong>(java.lang.String&nbsp;layerName,
             java.lang.String[]&nbsp;fieldNames,
             java.lang.String&nbsp;whereClause,
             java.lang.String&nbsp;groupBy,
             java.lang.String&nbsp;having,
             java.lang.String&nbsp;orderBy)</code>
<div class="block">sql查询</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setBackColor(int)">setBackColor</a></strong>(int&nbsp;color)</code>
<div class="block">设置控件背景颜色</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setCurrentTool(cn.creable.gridgis.controls.IMapTool)">setCurrentTool</a></strong>(<a href="../../../../cn/creable/gridgis/controls/IMapTool.html" title="cn.creable.gridgis.controls中的接口">IMapTool</a>&nbsp;mapTool)</code>
<div class="block">设置当前地图工具</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setCustomDraw(cn.creable.gridgis.controls.ICustomDraw)">setCustomDraw</a></strong>(<a href="../../../../cn/creable/gridgis/controls/ICustomDraw.html" title="cn.creable.gridgis.controls中的接口">ICustomDraw</a>&nbsp;draw)</code>
<div class="block">设置当前自绘对象</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setCustomDrawMode(boolean)">setCustomDrawMode</a></strong>(boolean&nbsp;flag)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setDisplayListener(cn.creable.gridgis.display.IDisplayListener)">setDisplayListener</a></strong>(<a href="../../../../cn/creable/gridgis/display/IDisplayListener.html" title="cn.creable.gridgis.display中的接口">IDisplayListener</a>&nbsp;dl)</code>
<div class="block">设置视图变换监听器</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setFlashColor(int, int)">setFlashColor</a></strong>(int&nbsp;color1,
             int&nbsp;color2)</code>
<div class="block">设置闪烁地图要素时，交替使用的2个颜色</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setMaxMemory(int)">setMaxMemory</a></strong>(int&nbsp;memory)</code>
<div class="block">设置UCMap引擎可以使用的最大内存值，当缓存达到这个数值时，开始自动释放缓存</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setPanTool()">setPanTool</a></strong>()</code>
<div class="block">将当前的地图工具设置为移动地图工具</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setPanTool(boolean)">setPanTool</a></strong>(boolean&nbsp;smooth)</code>
<div class="block">将当前的地图工具设置为移动地图工具</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setPanTool(boolean, int)">setPanTool</a></strong>(boolean&nbsp;smooth,
          int&nbsp;twoFingerMode)</code>
<div class="block">将当前的地图工具设置为移动地图工具</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setSize(int, int)">setSize</a></strong>(int&nbsp;width,
       int&nbsp;height)</code>
<div class="block">设置地图控件的尺寸</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setZoomInTool()">setZoomInTool</a></strong>()</code>
<div class="block">将当前的地图工具设置为放大工具</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#setZoomOutTool()">setZoomOutTool</a></strong>()</code>
<div class="block">将当前的地图工具设置为缩小工具</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#showCompass(int, int, Bitmap)">showCompass</a></strong>(int&nbsp;x,
           int&nbsp;y,
           Bitmap&nbsp;bitmap)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#showScaleBar(int, float, int, int, int, int, int, int)">showScaleBar</a></strong>(int&nbsp;height,
            float&nbsp;length,
            int&nbsp;x,
            int&nbsp;y,
            int&nbsp;color,
            int&nbsp;textColor,
            int&nbsp;strokeWith,
            int&nbsp;textSize)</code>
<div class="block">开启比例尺显示</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../cn/creable/gridgis/controls/MapControl.html#slideAnimation(double, double)">slideAnimation</a></strong>(double&nbsp;x,
              double&nbsp;y)</code>
<div class="block">滑动移动地图的动画</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="clearBack">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearBack</h4>
<pre>public&nbsp;boolean clearBack</pre>
</li>
</ul>
<a name="costTime">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>costTime</h4>
<pre>public&nbsp;long costTime</pre>
</li>
</ul>
<a name="isMoving">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMoving</h4>
<pre>public&nbsp;boolean isMoving</pre>
</li>
</ul>
<a name="noCustomDraw">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noCustomDraw</h4>
<pre>public&nbsp;boolean noCustomDraw</pre>
</li>
</ul>
<a name="offsetX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offsetX</h4>
<pre>public&nbsp;int offsetX</pre>
</li>
</ul>
<a name="offsetY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offsetY</h4>
<pre>public&nbsp;int offsetY</pre>
</li>
</ul>
<a name="pointerStatus">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pointerStatus</h4>
<pre>public&nbsp;int pointerStatus</pre>
<div class="block">当前触摸屏的状态，0表示pointerPressed，1表示pointerReleased，2表示pointerDragged</div>
</li>
</ul>
<a name="smoothMode">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>smoothMode</h4>
<pre>public&nbsp;boolean smoothMode</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="MapControl(cn.creable.gridgis.controls.MapView, int, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MapControl</h4>
<pre>public&nbsp;MapControl(<a href="../../../../cn/creable/gridgis/controls/MapView.html" title="cn.creable.gridgis.controls中的类">MapView</a>&nbsp;view,
          int&nbsp;width,
          int&nbsp;height)</pre>
<div class="block">构造函数</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>view</code> - view的引用</dd><dd><code>width</code> - 宽度</dd><dd><code>height</code> - 高度</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="addCustomDraw(cn.creable.gridgis.controls.ICustomDraw2)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addCustomDraw</h4>
<pre>public&nbsp;void&nbsp;addCustomDraw(<a href="../../../../cn/creable/gridgis/controls/ICustomDraw2.html" title="cn.creable.gridgis.controls中的接口">ICustomDraw2</a>&nbsp;draw)</pre>
<div class="block">添加自绘对象</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>draw</code> - 自绘对象，这种对象可以有多个，添加进去之后，需要调用removeCustomDraw才能删除</dd></dl>
</li>
</ul>
<a name="addLabelStyle(int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addLabelStyle</h4>
<pre>public&nbsp;void&nbsp;addLabelStyle(int&nbsp;layerId,
                 int&nbsp;fontSize,
                 int&nbsp;fontColor)</pre>
<div class="block">设置单个图层的标注样式</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>layerId</code> - 图层序号，从0开始</dd><dd><code>fontSize</code> - 标注文字大小</dd><dd><code>fontColor</code> - 标注文字颜色</dd></dl>
</li>
</ul>
<a name="addLabelStyle(int, int, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addLabelStyle</h4>
<pre>public&nbsp;void&nbsp;addLabelStyle(int&nbsp;layerId,
                 int&nbsp;fontSize,
                 int&nbsp;fontColor,
                 int&nbsp;location,
                 int&nbsp;priority)</pre>
<div class="block">设置单个图层的标注样式</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>layerId</code> - 图层序号，从0开始</dd><dd><code>fontSize</code> - 标注文字大小</dd><dd><code>fontColor</code> - 标注文字颜色</dd><dd><code>location</code> - 点符号标注的位置，这里仅仅接受0和2，0表示任意位置，2表示只能标注在正下方。默认值为0</dd><dd><code>priority</code> - 标注的优先级，默认为0，越大越优先。如果不需要优先标注，请填入0</dd></dl>
</li>
</ul>
<a name="adjustEnvelope(cn.creable.gridgis.geometry.IEnvelope)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adjustEnvelope</h4>
<pre>public&nbsp;void&nbsp;adjustEnvelope(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;extent)</pre>
<div class="block">按照窗口的高宽比调整一个Envelope，宽度优先</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>extent</code> - 矩形对象</dd></dl>
</li>
</ul>
<a name="adjustEnvelope2(cn.creable.gridgis.geometry.IEnvelope)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adjustEnvelope2</h4>
<pre>public&nbsp;void&nbsp;adjustEnvelope2(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;extent)</pre>
<div class="block">按照窗口的高宽比调整一个Envelope，高度优先</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>extent</code> - </dd></dl>
</li>
</ul>
<a name="beginGetCurstomDraw()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginGetCurstomDraw</h4>
<pre>public&nbsp;void&nbsp;beginGetCurstomDraw()</pre>
<div class="block">开始获取ICustomDraw2接口的类</div>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<div class="block">清除所有设置</div>
</li>
</ul>
<a name="closeMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeMap</h4>
<pre>public&nbsp;void&nbsp;closeMap()</pre>
<div class="block">关闭地图</div>
</li>
</ul>
<a name="flashFeature(cn.creable.gridgis.geodatabase.IFeature)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flashFeature</h4>
<pre>public&nbsp;void&nbsp;flashFeature(<a href="../../../../cn/creable/gridgis/geodatabase/IFeature.html" title="cn.creable.gridgis.geodatabase中的接口">IFeature</a>&nbsp;ft)</pre>
<div class="block">闪烁一个地图要素</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>ft</code> - 地图要素
 <p>这个函数会创建简单的symbol来闪烁地图要素</p></dd></dl>
</li>
</ul>
<a name="flashFeature(cn.creable.gridgis.mapLayer.IFeatureLayer, cn.creable.gridgis.geodatabase.IFeature)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flashFeature</h4>
<pre>public&nbsp;void&nbsp;flashFeature(<a href="../../../../cn/creable/gridgis/mapLayer/IFeatureLayer.html" title="cn.creable.gridgis.mapLayer中的接口">IFeatureLayer</a>&nbsp;layer,
                <a href="../../../../cn/creable/gridgis/geodatabase/IFeature.html" title="cn.creable.gridgis.geodatabase中的接口">IFeature</a>&nbsp;ft)</pre>
<div class="block">用于闪烁当前窗口中的图元</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>layer</code> - 图层对象</dd><dd><code>ft</code> - 要素对象</dd></dl>
</li>
</ul>
<a name="flashFeature(short, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flashFeature</h4>
<pre>public&nbsp;void&nbsp;flashFeature(short&nbsp;layerID,
                int&nbsp;objectID)</pre>
<div class="block">用于闪烁某一个地图要素</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>layerID</code> - 图层编号</dd><dd><code>objectID</code> - 要素编号</dd></dl>
</li>
</ul>
<a name="flashFeatures(cn.creable.gridgis.mapLayer.IFeatureLayer, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flashFeatures</h4>
<pre>public&nbsp;void&nbsp;flashFeatures(<a href="../../../../cn/creable/gridgis/mapLayer/IFeatureLayer.html" title="cn.creable.gridgis.mapLayer中的接口">IFeatureLayer</a>&nbsp;layer,
                 int&nbsp;oid)</pre>
<div class="block">用于闪烁某一个地图要素</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>layer</code> - 图层编号</dd><dd><code>oid</code> - 要素编号</dd></dl>
</li>
</ul>
<a name="flashFeatures(java.util.Vector, java.util.Vector, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flashFeatures</h4>
<pre>public&nbsp;void&nbsp;flashFeatures(java.util.Vector&lt;<a href="../../../../cn/creable/gridgis/geometry/IGeometry.html" title="cn.creable.gridgis.geometry中的接口">IGeometry</a>&gt;&nbsp;fts,
                 java.util.Vector&lt;<a href="../../../../cn/creable/gridgis/display/ISymbol.html" title="cn.creable.gridgis.display中的接口">ISymbol</a>&gt;&nbsp;symbols,
                 int&nbsp;flashNum)</pre>
<div class="block">若干个地图要素一起闪烁</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>fts</code> - 地图要素的几何对象数组</dd><dd><code>symbols</code> - 每个几何对象采用的符号数组</dd><dd><code>flashNum</code> - 闪烁的次数，等于0则不会自动停止闪烁</dd></dl>
</li>
</ul>
<a name="getApplicationID(cn.creable.gridgis.controls.App)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getApplicationID</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getApplicationID(<a href="../../../../cn/creable/gridgis/controls/App.html" title="cn.creable.gridgis.controls中的类">App</a>&nbsp;app)</pre>
</li>
</ul>
<a name="getBackColor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBackColor</h4>
<pre>public&nbsp;int&nbsp;getBackColor()</pre>
<div class="block">获取背景颜色值</div>
<dl><dt><span class="strong">返回:</span></dt><dd>颜色值</dd></dl>
</li>
</ul>
<a name="getCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCache</h4>
<pre>public&nbsp;Bitmap&nbsp;getCache()</pre>
<div class="block">获取一个窗口的缓存，包含自绘对象、地图工具以及比例尺条</div>
<dl><dt><span class="strong">返回:</span></dt><dd>Bitmap对象，注意需要recycle</dd></dl>
</li>
</ul>
<a name="getCurrentTool()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentTool</h4>
<pre>public&nbsp;<a href="../../../../cn/creable/gridgis/controls/IMapTool.html" title="cn.creable.gridgis.controls中的接口">IMapTool</a>&nbsp;getCurrentTool()</pre>
<div class="block">获取当前的地图工具</div>
<dl><dt><span class="strong">返回:</span></dt><dd>地图工具</dd></dl>
</li>
</ul>
<a name="getCustomDraw()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCustomDraw</h4>
<pre>public&nbsp;<a href="../../../../cn/creable/gridgis/controls/ICustomDraw.html" title="cn.creable.gridgis.controls中的接口">ICustomDraw</a>&nbsp;getCustomDraw()</pre>
<div class="block">获取当前自绘对象</div>
<dl><dt><span class="strong">返回:</span></dt><dd>自绘对象</dd></dl>
</li>
</ul>
<a name="getDisplay()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDisplay</h4>
<pre>public&nbsp;<a href="../../../../cn/creable/gridgis/display/IDisplay.html" title="cn.creable.gridgis.display中的接口">IDisplay</a>&nbsp;getDisplay()</pre>
<div class="block">获取Display对象的引用</div>
<dl><dt><span class="strong">返回:</span></dt><dd>Display对象</dd></dl>
</li>
</ul>
<a name="getExtent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExtent</h4>
<pre>public&nbsp;<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;getExtent()</pre>
<div class="block">获取当前地图的可视范围，实际坐标</div>
<dl><dt><span class="strong">返回:</span></dt><dd>可视范围</dd></dl>
</li>
</ul>
<a name="getFullExtent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFullExtent</h4>
<pre>public&nbsp;<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;getFullExtent()</pre>
<div class="block">获取地图的全局范围</div>
<dl><dt><span class="strong">返回:</span></dt><dd>全局范围</dd></dl>
</li>
</ul>
<a name="getHeight()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeight</h4>
<pre>public&nbsp;int&nbsp;getHeight()</pre>
<div class="block">获取控件高度</div>
</li>
</ul>
<a name="getImageCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getImageCache</h4>
<pre>public&nbsp;Bitmap&nbsp;getImageCache()</pre>
<div class="block">获取内存缓冲区Bitmap对象，不能recycle</div>
</li>
</ul>
<a name="getImageCanvas()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getImageCanvas</h4>
<pre>public&nbsp;Canvas&nbsp;getImageCanvas()</pre>
<div class="block">获取内存缓冲区Canvas对象</div>
</li>
</ul>
<a name="getMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMap</h4>
<pre>public&nbsp;<a href="../../../../cn/creable/gridgis/gridMap/IMap.html" title="cn.creable.gridgis.gridMap中的接口">IMap</a>&nbsp;getMap()</pre>
<div class="block">获取地图对象</div>
<dl><dt><span class="strong">返回:</span></dt><dd>地图对象</dd></dl>
</li>
</ul>
<a name="getMapControl()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMapControl</h4>
<pre>public static final&nbsp;<a href="../../../../cn/creable/gridgis/controls/MapControl.html" title="cn.creable.gridgis.controls中的类">MapControl</a>&nbsp;getMapControl()</pre>
<div class="block">获取MapControl的引用</div>
<dl><dt><span class="strong">返回:</span></dt><dd>MapControl的引用</dd></dl>
</li>
</ul>
<a name="getMapControl(cn.creable.gridgis.controls.MapView, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMapControl</h4>
<pre>public static&nbsp;<a href="../../../../cn/creable/gridgis/controls/MapControl.html" title="cn.creable.gridgis.controls中的类">MapControl</a>&nbsp;getMapControl(<a href="../../../../cn/creable/gridgis/controls/MapView.html" title="cn.creable.gridgis.controls中的类">MapView</a>&nbsp;view,
                       int&nbsp;width,
                       int&nbsp;height)</pre>
</li>
</ul>
<a name="getNextCustomDraw()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextCustomDraw</h4>
<pre>public&nbsp;<a href="../../../../cn/creable/gridgis/controls/ICustomDraw2.html" title="cn.creable.gridgis.controls中的接口">ICustomDraw2</a>&nbsp;getNextCustomDraw()</pre>
<div class="block">获取ICustomDraw2类</div>
<dl><dt><span class="strong">返回:</span></dt><dd>ICustomDraw2类</dd></dl>
</li>
</ul>
<a name="getRefreshManager()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRefreshManager</h4>
<pre>public&nbsp;<a href="../../../../cn/creable/gridgis/controls/MapControl.ThreadPoolManager.html" title="cn.creable.gridgis.controls中的类">MapControl.ThreadPoolManager</a>&nbsp;getRefreshManager()</pre>
<div class="block">获取刷新地图管理器</div>
<dl><dt><span class="strong">返回:</span></dt><dd>刷新地图管理器</dd></dl>
</li>
</ul>
<a name="getVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersion</h4>
<pre>public&nbsp;java.lang.String&nbsp;getVersion()</pre>
<div class="block">获取UCMap的版本号</div>
<dl><dt><span class="strong">返回:</span></dt><dd>版本号</dd></dl>
</li>
</ul>
<a name="getView()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getView</h4>
<pre>public&nbsp;<a href="../../../../cn/creable/gridgis/controls/MapView.html" title="cn.creable.gridgis.controls中的类">MapView</a>&nbsp;getView()</pre>
<div class="block">获取MapView对象</div>
<dl><dt><span class="strong">返回:</span></dt><dd>MapView对象</dd></dl>
</li>
</ul>
<a name="getWidth()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWidth</h4>
<pre>public&nbsp;int&nbsp;getWidth()</pre>
<div class="block">获取控件宽度</div>
<dl><dt><span class="strong">返回:</span></dt><dd>宽度</dd></dl>
</li>
</ul>
<a name="hideCompass()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hideCompass</h4>
<pre>public&nbsp;void&nbsp;hideCompass()</pre>
<div class="block">关闭比例尺显示，您需要调用mapControl.repaint</div>
</li>
</ul>
<a name="hideScaleBar()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hideScaleBar</h4>
<pre>public&nbsp;void&nbsp;hideScaleBar()</pre>
<div class="block">关闭比例尺显示，您需要手动调用mapControl.repaint</div>
</li>
</ul>
<a name="inAnimation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inAnimation</h4>
<pre>public&nbsp;boolean&nbsp;inAnimation()</pre>
<div class="block">是否处于动画中</div>
<dl><dt><span class="strong">返回:</span></dt><dd>是否处于动画中</dd></dl>
</li>
</ul>
<a name="initMap(cn.creable.gridgis.geometry.IEnvelope)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initMap</h4>
<pre>public&nbsp;void&nbsp;initMap(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;extent)</pre>
<div class="block">初始化地图</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>extent</code> - 地图全局范围</dd></dl>
</li>
</ul>
<a name="initMapControl530(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initMapControl530</h4>
<pre>public&nbsp;void&nbsp;initMapControl530(java.lang.String&nbsp;pathname)</pre>
</li>
</ul>
<a name="keyPressed(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyPressed</h4>
<pre>public&nbsp;void&nbsp;keyPressed(int&nbsp;keyCode)</pre>
<div class="block">当用户按下按键之后，会自动调用该函数</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>keyCode</code> - 按键编码</dd></dl>
</li>
</ul>
<a name="loadMap(java.lang.String, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadMap</h4>
<pre>public&nbsp;boolean&nbsp;loadMap(java.lang.String&nbsp;mxPath,
              byte&nbsp;arg)</pre>
<div class="block">装入地图，这个函数是同步的</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>mxPath</code> - 地图配置文件的文件标识符</dd><dd><code>arg</code> - 该参数目前无意义，应填0</dd>
<dt><span class="strong">返回:</span></dt><dd>是否成功</dd></dl>
</li>
</ul>
<a name="loadMapAsync(java.lang.String, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadMapAsync</h4>
<pre>public&nbsp;boolean&nbsp;loadMapAsync(java.lang.String&nbsp;mxPath,
                   byte&nbsp;arg)</pre>
<div class="block">装入地图，这个函数是异步的</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>mxPath</code> - 地图配置文件的文件标识符</dd><dd><code>arg</code> - 该参数目前无意义，应填0</dd>
<dt><span class="strong">返回:</span></dt><dd>是否成功</dd></dl>
</li>
</ul>
<a name="offsetMap(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offsetMap</h4>
<pre>public&nbsp;void&nbsp;offsetMap(int&nbsp;offsetX,
             int&nbsp;offsetY)</pre>
<div class="block">移动地图</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>offsetX</code> - 横向移动量，单位是像素</dd><dd><code>offsetY</code> - 纵向移动量，单位是像素</dd></dl>
</li>
</ul>
<a name="paint(Canvas)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>paint</h4>
<pre>public&nbsp;void&nbsp;paint(Canvas&nbsp;g)</pre>
<div class="block">当view调用onDraw时，调用该方法</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>g</code> - Canvas对象的引用</dd></dl>
</li>
</ul>
<a name="pointerDragged(int, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pointerDragged</h4>
<pre>public&nbsp;void&nbsp;pointerDragged(int&nbsp;x,
                  int&nbsp;y,
                  int&nbsp;x2,
                  int&nbsp;y2)</pre>
<div class="block">当用户在地图上滑动手指或触摸笔时，会自动调用该函数</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>x</code> - 第一点x轴坐标</dd><dd><code>y</code> - 第一点y轴坐标</dd><dd><code>x2</code> - 第二点x轴坐标</dd><dd><code>y2</code> - 第二点y轴坐标</dd></dl>
</li>
</ul>
<a name="pointerPressed(int, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pointerPressed</h4>
<pre>public&nbsp;void&nbsp;pointerPressed(int&nbsp;x,
                  int&nbsp;y,
                  int&nbsp;x2,
                  int&nbsp;y2)</pre>
<div class="block">当用户在地图上按下手指或触摸笔时，会自动调用该函数</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>x</code> - 第一点x轴坐标</dd><dd><code>y</code> - 第一点y轴坐标</dd><dd><code>x2</code> - 第二点x轴坐标</dd><dd><code>y2</code> - 第二点y轴坐标</dd></dl>
</li>
</ul>
<a name="pointerReleased(int, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pointerReleased</h4>
<pre>public&nbsp;void&nbsp;pointerReleased(int&nbsp;x,
                   int&nbsp;y,
                   int&nbsp;x2,
                   int&nbsp;y2)</pre>
<div class="block">当用户在地图上弹起手指或触摸笔时，会自动调用该函数</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>x</code> - 第一点x轴坐标</dd><dd><code>y</code> - 第一点y轴坐标</dd><dd><code>x2</code> - 第二点x轴坐标</dd><dd><code>y2</code> - 第二点y轴坐标</dd></dl>
</li>
</ul>
<a name="refresh()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refresh</h4>
<pre>public&nbsp;void&nbsp;refresh()</pre>
<div class="block">刷新地图，重新绘制地图，这个函数是异步的，函数返回时，地图还没有绘制完毕</div>
</li>
</ul>
<a name="refresh(cn.creable.gridgis.geometry.IEnvelope)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refresh</h4>
<pre>public&nbsp;void&nbsp;refresh(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;visibleBounds)</pre>
<div class="block">刷新地图，跳转至新的位置，并重新绘制地图，这个函数是异步的，函数返回时，地图还没有绘制完毕</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>visibleBounds</code> - 可视范围</dd></dl>
</li>
</ul>
<a name="refresh(cn.creable.gridgis.geometry.IEnvelope, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refresh</h4>
<pre>public&nbsp;void&nbsp;refresh(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;visibleBounds,
           boolean&nbsp;smoothMode)</pre>
</li>
</ul>
<a name="refresh(cn.creable.gridgis.controls.MapView)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refresh</h4>
<pre>public&nbsp;void&nbsp;refresh(<a href="../../../../cn/creable/gridgis/controls/MapView.html" title="cn.creable.gridgis.controls中的类">MapView</a>&nbsp;view)</pre>
<div class="block">刷新地图</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>view</code> - MapView对象</dd></dl>
</li>
</ul>
<a name="refreshAfter(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refreshAfter</h4>
<pre>public&nbsp;void&nbsp;refreshAfter(int&nbsp;layerIndex)</pre>
<div class="block">刷新地图，等待指定的图层绘制完毕之后，重新绘制地图</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>layerIndex</code> - 图层编号</dd></dl>
</li>
</ul>
<a name="refreshSync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refreshSync</h4>
<pre>public&nbsp;void&nbsp;refreshSync()</pre>
<div class="block">刷新地图，重新绘制地图，这个函数是同步的，函数返回时，地图已经绘制完毕</div>
</li>
</ul>
<a name="refreshSync(cn.creable.gridgis.geometry.IEnvelope)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refreshSync</h4>
<pre>public&nbsp;void&nbsp;refreshSync(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;visibleBounds)</pre>
<div class="block">刷新地图，跳转至新的位置，并重新绘制地图，这个函数是同步的，函数返回时，地图已经绘制完毕</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>visibleBounds</code> - 可视范围</dd></dl>
</li>
</ul>
<a name="refreshSync(cn.creable.gridgis.geometry.IEnvelope, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refreshSync</h4>
<pre>public&nbsp;void&nbsp;refreshSync(<a href="../../../../cn/creable/gridgis/geometry/IEnvelope.html" title="cn.creable.gridgis.geometry中的接口">IEnvelope</a>&nbsp;visibleBounds,
               boolean&nbsp;smoothMode)</pre>
</li>
</ul>
<a name="removeCustomDraw(cn.creable.gridgis.controls.ICustomDraw2)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeCustomDraw</h4>
<pre>public&nbsp;void&nbsp;removeCustomDraw(<a href="../../../../cn/creable/gridgis/controls/ICustomDraw2.html" title="cn.creable.gridgis.controls中的接口">ICustomDraw2</a>&nbsp;draw)</pre>
<div class="block">移除自绘对象</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>draw</code> - 自绘对象</dd></dl>
</li>
</ul>
<a name="removeLabelStyle(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeLabelStyle</h4>
<pre>public&nbsp;void&nbsp;removeLabelStyle(int&nbsp;layerId)</pre>
<div class="block">删除单个图层的标注样式，删除之后，该图层的标注将采用默认样式</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>layerId</code> - 图层序号，从0开始</dd></dl>
</li>
</ul>
<a name="repaint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>repaint</h4>
<pre>public&nbsp;void&nbsp;repaint()</pre>
<div class="block">重画，将缓冲在内存中的地图再次绘制到屏幕上</div>
</li>
</ul>
<a name="rewriteIni()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rewriteIni</h4>
<pre>public&nbsp;boolean&nbsp;rewriteIni()</pre>
<div class="block">重新写map.ini文件</div>
<dl><dt><span class="strong">返回:</span></dt><dd>是否成功</dd></dl>
</li>
</ul>
<a name="rotateAnimation(float)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rotateAnimation</h4>
<pre>public&nbsp;void&nbsp;rotateAnimation(float&nbsp;angle)</pre>
<div class="block">旋转地图动画</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>angle</code> - 需要旋转到的角度，单位是弧度</dd></dl>
</li>
</ul>
<a name="saveMapVisibleBounds()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveMapVisibleBounds</h4>
<pre>public&nbsp;boolean&nbsp;saveMapVisibleBounds()</pre>
<div class="block">保存当前浏览的位置，下次打开地图时会自动回到这个位置上</div>
<dl><dt><span class="strong">返回:</span></dt><dd>是否成功</dd></dl>
</li>
</ul>
<a name="searchFeature(java.lang.String, java.lang.String[], java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchFeature</h4>
<pre>public&nbsp;<a href="../../../../cn/creable/gridgis/geodatabase/FeatureInfo.html" title="cn.creable.gridgis.geodatabase中的类">FeatureInfo</a>[]&nbsp;searchFeature(java.lang.String&nbsp;layerName,
                          java.lang.String[]&nbsp;fieldNames,
                          java.lang.String&nbsp;whereClause,
                          java.lang.String&nbsp;groupBy,
                          java.lang.String&nbsp;having,
                          java.lang.String&nbsp;orderBy)</pre>
<div class="block">sql查询</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>layerName</code> - 图层名称</dd><dd><code>fieldNames</code> - 需要返回的字段数组，如果需要返回全部，则该参数请设置null</dd><dd><code>whereClause</code> - sql条件</dd><dd><code>groupBy</code> - sql分组子句</dd><dd><code>having</code> - sql having子句</dd><dd><code>orderBy</code> - sql排序子句</dd>
<dt><span class="strong">返回:</span></dt><dd>查询结果数组
 <p><h4>说明</h4></p>
 <p>这个函数能根据用户输入的where子句来进行属性查询，并会将所有符号条件的要素生成对应的FeatureInfo对象，最后返回一个FeatureInfo数组给客户程序，FeatureInfo中不含有地图要素的geometry信息，只包含属性信息和MBR。假如符合条件的要素比较多，searchFeature的返回值占用的内存也会越多。</p>
 <p><h4>java 示例</h4></p>
        <p><example>
                <pre class="code">
以下代码演示如何利用searchFeature来进行属性查询，并让地图视图移动到目标位置
//查询“北京_point”这个图层中，字段“NAME”的值类似“北京”的地图要素
FeatureInfo[] fis=mapView.getMapControl().searchFeature("北京_point",null,"NAME like '%北京%'",null,null,null);
if (fis!=null)
{
        //获得地图当前显示比例
        float current_scale=mapView.getMapControl().getDisplay().getDisplayTransformation().getZoom();
        //获得要查找的图层
        Layer searchlayer=(Layer)mapView.getMapControl().getMap().getLayer("北京_point");
        //获得该图层的最大显示比例
        float max_scale=searchlayer.getMaximumScale();
        //若该图层的最大显示比例大于当前比例，则说明还不能看到该图层，需要放大才能看到
        if (current_scale>max_scale)
        {
                //重新设置地图的显示比例，使得被查找的地图可见
                mapView.getMapControl().getDisplay().getDisplayTransformation().setZoom(max_scale/2);
        }
        IEnvelope extent=mapView.getMapControl().getExtent();
        //得到第一个查询结果的中心点坐标
        IPoint pt=new Point((fis[0].xmin+fis[0].xmax)/2,(fis[0].ymin+fis[0].ymax)/2);
        //以这个中心点为显示中心，调整extent这个矩形
        extent.centerAt(pt);
        pt=null;
        //将地图窗口中心点设置为上述中心点
        mapView.getMapControl().refresh(extent);
        //闪烁目标要素
        mapView.getMapControl().flashFeature(fis[0].layerID,fis[0].objectID);
}

                </pre>
        </example></p></dd></dl>
</li>
</ul>
<a name="setBackColor(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBackColor</h4>
<pre>public&nbsp;void&nbsp;setBackColor(int&nbsp;color)</pre>
<div class="block">设置控件背景颜色</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>color</code> - 背景颜色值</dd></dl>
</li>
</ul>
<a name="setCurrentTool(cn.creable.gridgis.controls.IMapTool)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCurrentTool</h4>
<pre>public&nbsp;void&nbsp;setCurrentTool(<a href="../../../../cn/creable/gridgis/controls/IMapTool.html" title="cn.creable.gridgis.controls中的接口">IMapTool</a>&nbsp;mapTool)</pre>
<div class="block">设置当前地图工具</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>mapTool</code> - 地图工具</dd></dl>
</li>
</ul>
<a name="setCustomDraw(cn.creable.gridgis.controls.ICustomDraw)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCustomDraw</h4>
<pre>public&nbsp;void&nbsp;setCustomDraw(<a href="../../../../cn/creable/gridgis/controls/ICustomDraw.html" title="cn.creable.gridgis.controls中的接口">ICustomDraw</a>&nbsp;draw)</pre>
<div class="block">设置当前自绘对象</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>draw</code> - 自绘对象，新的自绘对象会替换之前的自绘对象</dd></dl>
</li>
</ul>
<a name="setCustomDrawMode(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCustomDrawMode</h4>
<pre>public&nbsp;void&nbsp;setCustomDrawMode(boolean&nbsp;flag)</pre>
</li>
</ul>
<a name="setDisplayListener(cn.creable.gridgis.display.IDisplayListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDisplayListener</h4>
<pre>public&nbsp;void&nbsp;setDisplayListener(<a href="../../../../cn/creable/gridgis/display/IDisplayListener.html" title="cn.creable.gridgis.display中的接口">IDisplayListener</a>&nbsp;dl)</pre>
<div class="block">设置视图变换监听器</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>dl</code> - 视图变换监听器，设置之后每次视图变换都会调用监听器的onDisplayNotify函数</dd></dl>
</li>
</ul>
<a name="setFlashColor(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFlashColor</h4>
<pre>public&nbsp;void&nbsp;setFlashColor(int&nbsp;color1,
                 int&nbsp;color2)</pre>
<div class="block">设置闪烁地图要素时，交替使用的2个颜色</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>color1</code> - 闪烁使用的颜色1</dd><dd><code>color2</code> - 闪烁使用的颜色2</dd></dl>
</li>
</ul>
<a name="setMaxMemory(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxMemory</h4>
<pre>public&nbsp;void&nbsp;setMaxMemory(int&nbsp;memory)</pre>
<div class="block">设置UCMap引擎可以使用的最大内存值，当缓存达到这个数值时，开始自动释放缓存</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>memory</code> - 最大内存值，单位为兆字节</dd></dl>
</li>
</ul>
<a name="setPanTool()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPanTool</h4>
<pre>public&nbsp;void&nbsp;setPanTool()</pre>
<div class="block">将当前的地图工具设置为移动地图工具</div>
</li>
</ul>
<a name="setPanTool(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPanTool</h4>
<pre>public&nbsp;void&nbsp;setPanTool(boolean&nbsp;smooth)</pre>
<div class="block">将当前的地图工具设置为移动地图工具</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>smooth</code> - 是否平滑移动</dd></dl>
</li>
</ul>
<a name="setPanTool(boolean, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPanTool</h4>
<pre>public&nbsp;void&nbsp;setPanTool(boolean&nbsp;smooth,
              int&nbsp;twoFingerMode)</pre>
<div class="block">将当前的地图工具设置为移动地图工具</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>smooth</code> - 是否平滑移动</dd><dd><code>twoFingerMode</code> - 双指操作模式，0表示只能缩放，1表示只能旋转，2表示能缩放也能旋转</dd></dl>
</li>
</ul>
<a name="setSize(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSize</h4>
<pre>public&nbsp;void&nbsp;setSize(int&nbsp;width,
           int&nbsp;height)</pre>
<div class="block">设置地图控件的尺寸</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>width</code> - 宽度，单位是像素</dd><dd><code>height</code> - 高度，单位是像素</dd></dl>
</li>
</ul>
<a name="setZoomInTool()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setZoomInTool</h4>
<pre>public&nbsp;void&nbsp;setZoomInTool()</pre>
<div class="block">将当前的地图工具设置为放大工具</div>
</li>
</ul>
<a name="setZoomOutTool()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setZoomOutTool</h4>
<pre>public&nbsp;void&nbsp;setZoomOutTool()</pre>
<div class="block">将当前的地图工具设置为缩小工具</div>
</li>
</ul>
<a name="showCompass(int, int, Bitmap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>showCompass</h4>
<pre>public&nbsp;void&nbsp;showCompass(int&nbsp;x,
               int&nbsp;y,
               Bitmap&nbsp;bitmap)</pre>
</li>
</ul>
<a name="showScaleBar(int, float, int, int, int, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>showScaleBar</h4>
<pre>public&nbsp;void&nbsp;showScaleBar(int&nbsp;height,
                float&nbsp;length,
                int&nbsp;x,
                int&nbsp;y,
                int&nbsp;color,
                int&nbsp;textColor,
                int&nbsp;strokeWith,
                int&nbsp;textSize)</pre>
<div class="block">开启比例尺显示</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>height</code> - 比例尺符号中小竖条的高度</dd><dd><code>length</code> - 比例尺符号中横向长度</dd><dd><code>x</code> - 比例尺符号左下角的横坐标</dd><dd><code>y</code> - 比例尺符号左下角的纵坐标</dd><dd><code>color</code> - 比例尺符号的颜色，ARGB格式，例如0xFF00FF00表示完全不透明的绿色</dd><dd><code>textColor</code> - 比例尺符号的文字颜色，ARGB格式</dd><dd><code>strokeWith</code> - 比例尺符号横线的宽度</dd><dd><code>textSize</code> - 比例尺符号的文字大小</dd></dl>
</li>
</ul>
<a name="slideAnimation(double, double)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>slideAnimation</h4>
<pre>public&nbsp;void&nbsp;slideAnimation(double&nbsp;x,
                  double&nbsp;y)</pre>
<div class="block">滑动移动地图的动画</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>x</code> - 目的地的地图横坐标</dd><dd><code>y</code> - 目的地的地图纵坐标</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/MapControl.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../cn/creable/gridgis/controls/InfoTool.html" title="cn.creable.gridgis.controls中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../cn/creable/gridgis/controls/MapControl.ThreadPoolManager.html" title="cn.creable.gridgis.controls中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?cn/creable/gridgis/controls/MapControl.html" target="_top">框架</a></li>
<li><a href="MapControl.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested_class_summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
